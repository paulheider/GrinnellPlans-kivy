<LoginScreen>:
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
    id: login_screen
    name: "login_screen"
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        ## spacer widget ##
        Widget:
            size_hint: None, None
            height: dp( 10 )
        ## spacer widget ##
        Image:
            size_hint_x: 0.8
            pos_hint: { 'center_x': 0.5 }
            source: 'resources/logo.png'
        MDTextField:
            id: username
            size_hint_x: 0.67
            pos_hint: { 'center_x': 0.5 }
            hint_text: 'Username   '
            mode: "rectangle"
            multiline: False
        MDFloatLayout:
            size_hint: 1,1
            MDTextField:
                id: password
                size_hint_x: 0.67
                pos_hint: { 'center_x': 0.5 , 'center_y': 0.5}
                ##pos: self.pos
                hint_text: 'Password   '
                mode: "rectangle"
                multiline: False
                password: True
            MDIconButton:
                icon: "eye-off"
                ripple_scale: .5
                pos_hint: {"center_y": .5}
                pos: password.pos[ 0 ] + password.width - self.width + dp( 8 ), 0
                on_release:
                    self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                    password.password = False if password.password is True else True
        ## spacer widget ##
        Widget:
            size_hint: None, None
            height: dp( 10 )
        ## spacer widget ##
        MDFillRoundFlatButton:
            text: 'Login'
            size_hint_x: 0.5
            pos_hint: { 'center_x': 0.5 }
            md_bg_color: 118/255 , 35/255 , 47/255 , 1
            on_press: root.logInTask( username.text , password.text )
        ## spacer widget ##
        Widget:
            size_hint: None, None
            height: dp( 10 )
        ## spacer widget ##
        MDLabel:
            text: '[u][ref=https://grinnellplans.com/passwordreset.php]Forgot your password?[/ref][/u]'
            halign: 'center'
            height: self.texture_size[ 1 ]
            pos_hint: { 'center_x': 0.5 }
            markup: True
            on_ref_press: app.refLink( args[ 1 ] , 'https://grinnellplans.com/passwordreset.php' )
        MDLabel:
            text: '[ref=https://grinnellplans.com/register.php]Need a plan? [u]Register[/u][/ref]'
            halign: 'center'
            height: self.texture_size[ 1 ]
            pos_hint: { 'center_x': 0.5 }
            markup: True
            on_ref_press: app.refLink( args[ 1 ] , 'https://grinnellplans.com/register.php' )
        ## spacer widget ##
        Widget:
            size_hint: None, None
            height: dp( 10 )
        ## spacer widget ##
        MDLabel:
            text: '[b]Version:[/b]  ' + root.version()
            pos_hint: { 'center_x' : 0.5 }
            halign: 'right'
            markup: True
            padding: 20 , 0
